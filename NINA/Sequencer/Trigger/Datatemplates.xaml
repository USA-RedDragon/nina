<!--
    Copyright © 2016 - 2020 Stefan Berg <isbeorn86+NINA@googlemail.com> and the N.I.N.A. contributors

    This file is part of N.I.N.A. - Nighttime Imaging 'N' Astronomy.

    This Source Code Form is subject to the terms of the Mozilla Public
    License, v. 2.0. If a copy of the MPL was not distributed with this
    file, You can obtain one at http://mozilla.org/MPL/2.0/.-->
<ResourceDictionary
    x:Class="NINA.Sequencer.Trigger.Datatemplates"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:af="clr-namespace:NINA.Sequencer.Trigger.Autofocus"
    xmlns:g="clr-namespace:NINA.Sequencer.Trigger.Guider"
    xmlns:local="clr-namespace:NINA.Sequencer.Trigger"
    xmlns:mf="clr-namespace:NINA.Sequencer.Trigger.MeridianFlip"
    xmlns:ns="clr-namespace:NINA.Locale"
    xmlns:view="clr-namespace:NINA.View.Sequencer">
    <Style
        x:Key="TriggerProgress"
        x:Shared="false"
        TargetType="ContentControl">
        <Style.Triggers>
            <DataTrigger Binding="{Binding Path=., Converter={StaticResource DataTypeToStringConverter}}" Value="{x:Type mf:MeridianFlipTrigger}">
                <Setter Property="Content">
                    <Setter.Value>
                        <StackPanel
                            HorizontalAlignment="Right"
                            Orientation="Horizontal"
                            Visibility="{Binding FlipTime, Converter={StaticResource DateTimeZeroToVisibilityCollapsedConverter}}">
                            <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblFlipTime}" />
                            <TextBlock
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Text="{Binding FlipTime, StringFormat='{}{0:HH:mm:ss}'}" />
                        </StackPanel>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=., Converter={StaticResource DataTypeToStringConverter}}" Value="{x:Type af:AutofocusAfterExposures}">
                <Setter Property="Content">
                    <Setter.Value>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblExposures}" />
                            <TextBlock
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Text="{Binding ProgressExposures}" />
                            <TextBlock Text="/" />
                            <TextBlock VerticalAlignment="Center" Text="{Binding AfterExposures}" />
                        </StackPanel>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=., Converter={StaticResource DataTypeToStringConverter}}" Value="{x:Type g:DitherAfterExposures}">
                <Setter Property="Content">
                    <Setter.Value>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblExposures}" />
                            <TextBlock
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Text="{Binding ProgressExposures}" />
                            <TextBlock Text="/" />
                            <TextBlock VerticalAlignment="Center" Text="{Binding AfterExposures}" />
                        </StackPanel>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=., Converter={StaticResource DataTypeToStringConverter}}" Value="{x:Type af:AutofocusAfterHFRIncreaseTrigger}">
                <Setter Property="Content">
                    <Setter.Value>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblHFRTrend}" />
                            <TextBlock
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Text="{Binding HFRTrend}" />
                            <TextBlock VerticalAlignment="Center" Text="% / " />
                            <TextBlock VerticalAlignment="Center" Text="{Binding Amount}" />
                            <TextBlock VerticalAlignment="Center" Text="%" />
                        </StackPanel>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=., Converter={StaticResource DataTypeToStringConverter}}" Value="{x:Type af:AutofocusAfterTemperatureChangeTrigger}">
                <Setter Property="Content">
                    <Setter.Value>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblDelta}" />
                            <TextBlock
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Text="{Binding DeltaT}" />
                            <TextBlock VerticalAlignment="Center" Text="° / " />
                            <TextBlock VerticalAlignment="Center" Text="{Binding Amount}" />
                            <TextBlock VerticalAlignment="Center" Text="°" />
                        </StackPanel>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=., Converter={StaticResource DataTypeToStringConverter}}" Value="{x:Type af:AutofocusAfterTimeTrigger}">
                <Setter Property="Content">
                    <Setter.Value>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblElapsed}" />
                            <TextBlock
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Text="{Binding Elapsed}" />
                            <TextBlock VerticalAlignment="Center" Text="m / " />
                            <TextBlock VerticalAlignment="Center" Text="{Binding Amount}" />
                            <TextBlock VerticalAlignment="Center" Text="m" />
                        </StackPanel>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=., Converter={StaticResource DataTypeToStringConverter}}" Value="{x:Type af:AutofocusAfterFilterChange}">
                <Setter Property="Content">
                    <Setter.Value>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Margin="0,0,5,0"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblLastFilter}" />
                            <TextBlock VerticalAlignment="Center" Text="{Binding LastAutoFocusFilter.Name, FallbackValue='-'}" />
                        </StackPanel>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
        </Style.Triggers>
    </Style>
    <DataTemplate DataType="{x:Type mf:MeridianFlipTrigger}">
        <view:SequenceBlockView DataContext="{Binding}">
            <view:SequenceBlockView.SequenceItemProgressContent>
                <ContentControl Style="{StaticResource TriggerProgress}" />
            </view:SequenceBlockView.SequenceItemProgressContent>
        </view:SequenceBlockView>
    </DataTemplate>
    <DataTemplate DataType="{x:Type af:AutofocusAfterHFRIncreaseTrigger}">
        <view:SequenceBlockView DataContext="{Binding}">
            <view:SequenceBlockView.SequenceItemContent>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblAmount}" />
                    <TextBox
                        MinWidth="40"
                        Margin="5,0,0,0"
                        VerticalAlignment="Center"
                        VerticalContentAlignment="Center"
                        Text="{Binding Amount}"
                        TextAlignment="Right" />
                    <TextBlock VerticalAlignment="Center" Text="%" />
                </StackPanel>
            </view:SequenceBlockView.SequenceItemContent>
            <view:SequenceBlockView.SequenceItemProgressContent>
                <ContentControl Style="{StaticResource TriggerProgress}" />
            </view:SequenceBlockView.SequenceItemProgressContent>
        </view:SequenceBlockView>
    </DataTemplate>
    <DataTemplate DataType="{x:Type af:AutofocusAfterFilterChange}">
        <view:SequenceBlockView DataContext="{Binding}">
            <view:SequenceBlockView.SequenceItemProgressContent>
                <ContentControl Style="{StaticResource TriggerProgress}" />
            </view:SequenceBlockView.SequenceItemProgressContent>
        </view:SequenceBlockView>
    </DataTemplate>
    <DataTemplate DataType="{x:Type af:AutofocusAfterTemperatureChangeTrigger}">
        <view:SequenceBlockView DataContext="{Binding}">
            <view:SequenceBlockView.SequenceItemContent>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblAmount}" />
                    <TextBox
                        MinWidth="40"
                        Margin="5,0,0,0"
                        VerticalAlignment="Center"
                        VerticalContentAlignment="Center"
                        Text="{Binding Amount}"
                        TextAlignment="Right" />
                    <TextBlock VerticalAlignment="Center" Text="°" />
                </StackPanel>
            </view:SequenceBlockView.SequenceItemContent>
            <view:SequenceBlockView.SequenceItemProgressContent>
                <ContentControl Style="{StaticResource TriggerProgress}" />
            </view:SequenceBlockView.SequenceItemProgressContent>
        </view:SequenceBlockView>
    </DataTemplate>
    <DataTemplate DataType="{x:Type af:AutofocusAfterTimeTrigger}">
        <view:SequenceBlockView DataContext="{Binding}">
            <view:SequenceBlockView.SequenceItemContent>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblAmount}" />
                    <TextBox
                        MinWidth="40"
                        Margin="5,0,0,0"
                        VerticalAlignment="Center"
                        VerticalContentAlignment="Center"
                        Text="{Binding Amount}"
                        TextAlignment="Right" />
                    <TextBlock VerticalAlignment="Center" Text="m" />
                </StackPanel>
            </view:SequenceBlockView.SequenceItemContent>
            <view:SequenceBlockView.SequenceItemProgressContent>
                <ContentControl Style="{StaticResource TriggerProgress}" />
            </view:SequenceBlockView.SequenceItemProgressContent>
        </view:SequenceBlockView>
    </DataTemplate>
    <DataTemplate DataType="{x:Type af:AutofocusAfterExposures}">
        <view:SequenceBlockView DataContext="{Binding}">
            <view:SequenceBlockView.SequenceItemContent>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblAfterExposures}" />
                    <TextBox
                        MinWidth="40"
                        Margin="5,0,0,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Text="{Binding AfterExposures}" />
                </StackPanel>
            </view:SequenceBlockView.SequenceItemContent>
            <view:SequenceBlockView.SequenceItemProgressContent>
                <ContentControl Style="{StaticResource TriggerProgress}" />
            </view:SequenceBlockView.SequenceItemProgressContent>
        </view:SequenceBlockView>
    </DataTemplate>
    <DataTemplate DataType="{x:Type g:DitherAfterExposures}">
        <view:SequenceBlockView DataContext="{Binding}">
            <view:SequenceBlockView.SequenceItemContent>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblAfterExposures}" />
                    <TextBox
                        MinWidth="40"
                        Margin="5,0,0,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Text="{Binding AfterExposures}" />
                </StackPanel>
            </view:SequenceBlockView.SequenceItemContent>
            <view:SequenceBlockView.SequenceItemProgressContent>
                <ContentControl Style="{StaticResource TriggerProgress}" />
            </view:SequenceBlockView.SequenceItemProgressContent>
        </view:SequenceBlockView>
    </DataTemplate>
    <DataTemplate DataType="{x:Type local:SequenceTrigger}">
        <view:SequenceBlockView DataContext="{Binding}" />
    </DataTemplate>
</ResourceDictionary>