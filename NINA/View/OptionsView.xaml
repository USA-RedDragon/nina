<UserControl
    x:Class="NINA.View.OptionsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:astrometry="clr-namespace:NINA.Utility.Astrometry"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:enum="clr-namespace:NINA.Utility.Enum"
    xmlns:local="clr-namespace:NINA.View"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:model="clr-namespace:NINA.Model"
    xmlns:ns="clr-namespace:NINA.Locale"
    xmlns:rules="clr-namespace:NINA.Utility.ValidationRules"
    xmlns:s="clr-namespace:System;assembly=mscorlib"
    xmlns:util="clr-namespace:NINA.Utility"
    xmlns:xceed="http://schemas.xceed.com/wpf/xaml/toolkit"
    d:DesignHeight="300"
    d:DesignWidth="300"
    Background="{StaticResource BackgroundBrush}"
    mc:Ignorable="d">
    <TabControl TabStripPlacement="Top">
        <TabItem>
            <TabItem.Header>
                <TextBlock Style="{StaticResource TabItemTextBox}" Text="{ns:Loc LblGeneral}" />
            </TabItem.Header>
            <UniformGrid Columns="2" Rows="3">

                <GroupBox Header="{ns:Loc LblProfiles}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition Height="45" />
                        </Grid.RowDefinitions>

                        <DataGrid
                            AutoGenerateColumns="False"
                            CanUserAddRows="False"
                            HorizontalScrollBarVisibility="Disabled"
                            ItemsSource="{Binding Profiles}"
                            SelectedItem="{Binding SelectedProfile}"
                            VerticalScrollBarVisibility="Auto">
                            <DataGrid.Columns>
                                <DataGridTemplateColumn
                                    Width="*"
                                    CanUserSort="False"
                                    Header="{ns:Loc LblActive}">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <CheckBox
                                                Width="20"
                                                Height="20"
                                                HorizontalAlignment="Center"
                                                IsChecked="{Binding IsActive, UpdateSourceTrigger=PropertyChanged}"
                                                IsEnabled="False"
                                                Style="{StaticResource BorderlessCheckmarkAndEmptyCheckbox}" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn
                                    Width="3*"
                                    CanUserSort="False"
                                    Header="{ns:Loc LblName}">
                                    <DataGridTemplateColumn.CellEditingTemplate>
                                        <DataTemplate>
                                            <TextBox
                                                Margin="5,0,5,0"
                                                VerticalAlignment="Center"
                                                Text="{Binding Name}"
                                                TextAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellEditingTemplate>
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                                Margin="5,0,5,0"
                                                VerticalAlignment="Center"
                                                Text="{Binding Name}"
                                                TextAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn
                                    Width="3*"
                                    CanUserSort="False"
                                    Header="{ns:Loc LblId}">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                                Margin="5,0,5,0"
                                                VerticalAlignment="Center"
                                                Text="{Binding Id}"
                                                TextAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>

                        <!--<ListView ItemsSource="{Binding Profiles}" SelectedItem="{Binding SelectedProfile}">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn DisplayMemberBinding="{Binding Name}" Header="{ns:Loc LblName}" />
                                    <GridViewColumn DisplayMemberBinding="{Binding Id}" Header="{ns:Loc LblId}" />
                                    <GridViewColumn DisplayMemberBinding="{Binding IsActive}" Header="{ns:Loc LblActive}" />
                                </GridView>
                            </ListView.View>
                        </ListView>-->
                        <StackPanel Grid.Row="1" Orientation="Horizontal">
                            <Button
                                Width="40"
                                Margin="0,5,0,5"
                                Command="{Binding AddProfileCommand}">
                                <Path
                                    Margin="5"
                                    Data="{StaticResource AddSVG}"
                                    Fill="{StaticResource ButtonForegroundBrush}"
                                    Stretch="Uniform" />
                            </Button>
                            <Button
                                Width="40"
                                Margin="0,5,0,5"
                                Command="{Binding CloneProfileCommand}">
                                <Path
                                    Margin="5"
                                    Data="{StaticResource CopySVG}"
                                    Fill="{StaticResource ButtonForegroundBrush}"
                                    Stretch="Uniform" />
                            </Button>
                            <Button
                                Width="40"
                                Margin="0,5,0,5"
                                Command="{Binding RemoveProfileCommand}">
                                <Path
                                    Margin="5"
                                    Data="{StaticResource SubstractSVG}"
                                    Fill="{StaticResource ButtonForegroundBrush}"
                                    Stretch="Uniform" />
                            </Button>
                            <Button
                                Grid.Column="1"
                                Width="100"
                                Margin="0,5,0,5"
                                Command="{Binding SelectProfileCommand}">
                                <Button.Content>
                                    <TextBlock Foreground="{StaticResource ButtonForegroundBrush}" Text="{ns:Loc LblLoadProfile}" />
                                </Button.Content>
                                <Button.IsEnabled>
                                    <MultiBinding Converter="{StaticResource InverseMultiBooleanANDConverter}" FallbackValue="True">
                                        <Binding Path="CameraVM.CameraInfo.Connected" Source="{StaticResource AppVM}" />
                                        <Binding Path="FilterWheelVM.FW.Connected" Source="{StaticResource AppVM}" />
                                        <Binding Path="FocuserVM.FocuserInfo.Connected" Source="{StaticResource AppVM}" />
                                        <Binding Path="TelescopeVM.TelescopeInfo.Connected" Source="{StaticResource AppVM}" />
                                        <Binding Path="GuiderVM.Guider.Connected" Source="{StaticResource AppVM}" />
                                    </MultiBinding>
                                </Button.IsEnabled>
                            </Button>
                        </StackPanel>
                    </Grid>
                </GroupBox>
                <GroupBox Header="{ns:Loc LblGeneral}">
                    <StackPanel>
                        <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                            <TextBlock
                                Width="140"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblLanguage}" />
                            <ComboBox
                                Margin="10,0,0,0"
                                DisplayMemberPath="DisplayName"
                                ItemsSource="{Binding AvailableLanguages}"
                                SelectedItem="{Binding Language}" />
                        </StackPanel>

                        <Grid Margin="0,5,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="140" />
                                <ColumnDefinition />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <TextBlock VerticalAlignment="Center" Text="{ns:Loc LblSkyAtlasImageDirectory}" />

                            <TextBox
                                Grid.Column="1"
                                Margin="10,0,0,0"
                                VerticalAlignment="Center"
                                VerticalContentAlignment="Center">
                                <TextBox.Text>
                                    <Binding Path="SkyAtlasImageRepository" UpdateSourceTrigger="LostFocus">
                                        <Binding.ValidationRules>
                                            <rules:DirectoryExistsRule />
                                        </Binding.ValidationRules>
                                    </Binding>
                                </TextBox.Text>
                            </TextBox>

                            <Button
                                Grid.Column="2"
                                Width="30"
                                Height="30"
                                Margin="5,0,0,0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Command="{Binding OpenSkyAtlasImageRepositoryDiagCommand}">
                                <Path
                                    Margin="4,17,4,4"
                                    Data="{StaticResource DotsSVG}"
                                    Fill="{StaticResource ButtonForegroundBrush}"
                                    Stretch="Uniform" />
                            </Button>
                        </Grid>

                        <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                            <TextBlock
                                Width="140"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblLogLevel}" />
                            <ComboBox
                                Margin="10,0,0,0"
                                ItemsSource="{Binding Source={util:EnumBindingSource {x:Type enum:LogLevelEnum}}}"
                                SelectedItem="{Binding LogLevel}" />
                        </StackPanel>

                        <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                            <TextBlock
                                Width="140"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblDevicePollingInterval}" />
                            <TextBox
                                MinWidth="120"
                                Margin="10,0,0,0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center">
                                <TextBox.Text>
                                    <Binding Path="DevicePollingInterval" UpdateSourceTrigger="LostFocus">
                                        <Binding.ValidationRules>
                                            <rules:GreaterZeroRule />
                                        </Binding.ValidationRules>
                                    </Binding>
                                </TextBox.Text>
                            </TextBox>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
                <GroupBox Header="{ns:Loc LblCurrentUIColorSchema}">
                    <UniformGrid Columns="2">
                        <ComboBox
                            Grid.ColumnSpan="2"
                            Margin="0,5,0,0"
                            DisplayMemberPath="Name"
                            ItemsSource="{Binding ColorSchemas.Items}"
                            SelectedValue="{Binding ColorSchemaName}"
                            SelectedValuePath="Name" />
                        <Grid />
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblPrimary}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding PrimaryColor}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblSecondary}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding SecondaryColor}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblBorder}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding BorderColor}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblBackground}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding BackgroundColor}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblButtonBackground}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding ButtonBackgroundColor}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblButtonHighlight}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding ButtonBackgroundSelectedColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblButtonForeground}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding ButtonForegroundColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblButtonForegroundDisabled}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding ButtonForegroundDisabledColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblNotificationWarning}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding NotificationWarningColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblNotificationError}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding NotificationErrorColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblNotificationWarningText}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding NotificationWarningTextColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblNotificationErrorText}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding NotificationErrorTextColor}" />
                        </StackPanel>
                    </UniformGrid>
                </GroupBox>
                <GroupBox Header="{ns:Loc LblAlternativeUIColorSchema}">
                    <UniformGrid Columns="2">
                        <ComboBox
                            Grid.ColumnSpan="2"
                            Margin="0,5,0,0"
                            DisplayMemberPath="Name"
                            ItemsSource="{Binding ColorSchemas.Items}"
                            SelectedValue="{Binding AlternativeColorSchemaName}"
                            SelectedValuePath="Name" />
                        <Grid />
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblPrimary}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltPrimaryColor}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblSecondary}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltSecondaryColor}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblBorder}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltBorderColor}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblBackground}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltBackgroundColor}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblButtonBackground}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltButtonBackgroundColor}" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblButtonHighlight}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltButtonBackgroundSelectedColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblButtonForeground}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltButtonForegroundColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblButtonForegroundDisabled}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltButtonForegroundDisabledColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblNotificationWarning}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltNotificationWarningColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblNotificationError}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltNotificationErrorColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblNotificationWarningText}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltNotificationWarningTextColor}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="170"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblNotificationErrorText}" />
                            <xceed:ColorPicker
                                Width="80"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectedColor="{Binding AltNotificationErrorTextColor}" />
                        </StackPanel>
                    </UniformGrid>
                </GroupBox>
                <GroupBox Header="{ns:Loc LblAstrometry}">
                    <StackPanel Margin="0,5,0,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                Width="100"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblEpoch}" />
                            <ComboBox
                                Name="epochcombo"
                                Margin="10,0,0,0"
                                ItemsSource="{Binding Source={util:EnumBindingSource {x:Type astrometry:Epoch}}}"
                                SelectedItem="{Binding EpochType}" />
                        </StackPanel>

                        <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                            <TextBlock
                                Width="100"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblHemisphere}" />
                            <ComboBox
                                Margin="10,0,0,0"
                                ItemsSource="{Binding Source={util:EnumBindingSource {x:Type astrometry:Hemisphere}}}"
                                SelectedItem="{Binding HemisphereType}" />
                        </StackPanel>

                        <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                            <TextBlock
                                Width="100"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblLatitude}" />
                            <TextBox
                                MinWidth="120"
                                Margin="10,0,0,0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Text="{Binding Latitude}" />
                        </StackPanel>
                        <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                            <TextBlock
                                Width="100"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblLongitude}" />
                            <TextBox
                                MinWidth="120"
                                Margin="10,0,0,0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Text="{Binding Longitude}" />
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
                <GroupBox Header="{ns:Loc LblWeatherData}">
                    <StackPanel Margin="0,5,0,0">
                        <ComboBox
                            Name="weatherdatacombo"
                            ItemsSource="{Binding Source={util:EnumBindingSource {x:Type enum:WeatherDataEnum}}}"
                            SelectedItem="{Binding WeatherDataType}" />
                        <UniformGrid Margin="0,5,0,0" Columns="2">
                            <TextBlock Text="{ns:Loc LblURL}" />
                            <TextBox HorizontalAlignment="Stretch" Text="{Binding OpenWeatherMapUrl}" />
                        </UniformGrid>
                        <UniformGrid Margin="0,5,0,0" Columns="2">
                            <TextBlock Text="{ns:Loc LblAPIKey}" />
                            <TextBox HorizontalAlignment="Stretch" Text="{Binding OpenWeatherMapAPIKey}" />
                        </UniformGrid>
                    </StackPanel>
                </GroupBox>
            </UniformGrid>
        </TabItem>
        <TabItem>
            <TabItem.Header>
                <TextBlock Style="{StaticResource TabItemTextBox}" Text="{ns:Loc LblEquipment}" />
            </TabItem.Header>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <GroupBox Header="{ns:Loc LblCamera}">
                    <StackPanel Orientation="Vertical">
                        <UniformGrid Columns="2">
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    Width="150"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblPixelSize}" />
                                <TextBox
                                    MinWidth="80"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center">
                                    <TextBox.Text>
                                        <Binding Path="CameraPixelSize" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <rules:GreaterZeroRule />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox.Text>
                                </TextBox>
                            </UniformGrid>
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    Width="150"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblReadNoise}" />
                                <TextBox
                                    MinWidth="80"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center">
                                    <TextBox.Text>
                                        <Binding Path="ReadNoise" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <rules:GreaterZeroRule />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox.Text>
                                </TextBox>
                            </UniformGrid>
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    Width="150"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblBiasMean}" />
                                <TextBox
                                    MinWidth="80"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center">
                                    <TextBox.Text>
                                        <Binding Path="Offset" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <rules:GreaterZeroRule />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox.Text>
                                </TextBox>
                            </UniformGrid>
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    Width="150"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblBitDepth}" />
                                <TextBox
                                    MinWidth="80"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center">
                                    <TextBox.Text>
                                        <Binding Path="BitDepth" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <rules:GreaterZeroRule />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox.Text>
                                </TextBox>
                            </UniformGrid>
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    Width="150"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblFullWellCapacity}" />
                                <TextBox
                                    MinWidth="80"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center">
                                    <TextBox.Text>
                                        <Binding Path="FullWellCapacity" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <rules:GreaterZeroRule />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox.Text>
                                </TextBox>
                            </UniformGrid>
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    Width="150"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblDataToDownloadRatio}" />
                                <TextBox
                                    MinWidth="80"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center">
                                    <TextBox.Text>
                                        <Binding Path="DownloadToDataRatio" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <rules:GreaterZeroRule />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox.Text>
                                </TextBox>
                            </UniformGrid>
                        </UniformGrid>
                        <UniformGrid Columns="2">
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    MinWidth="200"
                                    MinHeight="20"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblBulbMode}">
                                    <TextBlock.ToolTip>
                                        <TextBlock Text="" />
                                    </TextBlock.ToolTip>
                                </TextBlock>
                                <ComboBox
                                    Name="cbBulbMode"
                                    ItemsSource="{Binding Source={util:EnumBindingSource {x:Type enum:CameraBulbModeEnum}}}"
                                    SelectedItem="{Binding CameraBulbMode}" />
                            </UniformGrid>
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    MinWidth="200"
                                    MinHeight="20"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblRawConverter}">
                                    <TextBlock.ToolTip>
                                        <TextBlock Text="{ns:Loc LblRawConverterTooltip}" />
                                    </TextBlock.ToolTip>
                                </TextBlock>
                                <ComboBox ItemsSource="{Binding Source={util:EnumBindingSource {x:Type enum:RawConverterEnum}}}" SelectedItem="{Binding RawConverter}" />
                            </UniformGrid>
                        </UniformGrid>

                        <!--  Serial Port  -->
                        <UniformGrid Columns="2">
                            <UniformGrid.Style>
                                <Style TargetType="{x:Type UniformGrid}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=cbBulbMode, Path=SelectedItem}" Value="2">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=cbBulbMode, Path=SelectedItem}" Value="0">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </UniformGrid.Style>

                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    MinWidth="200"
                                    MinHeight="20"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblBulbSerialPort}">
                                    <TextBlock.ToolTip>
                                        <TextBlock Text="{ns:Loc LblBulbSerialPort}" />
                                    </TextBlock.ToolTip>
                                </TextBlock>
                                <ComboBox
                                    MinWidth="75"
                                    MinHeight="20"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center"
                                    SelectedItem="{Binding CameraSerialPort}">
                                    <s:String>COM1</s:String>
                                    <s:String>COM2</s:String>
                                    <s:String>COM3</s:String>
                                    <s:String>COM4</s:String>
                                    <s:String>COM5</s:String>
                                    <s:String>COM6</s:String>
                                    <s:String>COM7</s:String>
                                    <s:String>COM8</s:String>
                                    <s:String>COM9</s:String>
                                    <s:String>COM10</s:String>
                                    <s:String>COM11</s:String>
                                    <s:String>COM12</s:String>
                                    <s:String>COM13</s:String>
                                    <s:String>COM14</s:String>
                                    <s:String>COM15</s:String>
                                    <s:String>COM16</s:String>
                                </ComboBox>
                            </UniformGrid>
                        </UniformGrid>
                        <!--  Snap Port  -->
                        <UniformGrid Columns="2">
                            <UniformGrid.Style>
                                <Style TargetType="{x:Type UniformGrid}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=cbBulbMode, Path=SelectedItem}" Value="1">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=cbBulbMode, Path=SelectedItem}" Value="0">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </UniformGrid.Style>
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    MinWidth="200"
                                    MinHeight="20"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblSnapPortStart}">
                                    <TextBlock.ToolTip>
                                        <TextBlock Text="" />
                                    </TextBlock.ToolTip>
                                </TextBlock>
                                <TextBox
                                    MinWidth="75"
                                    MinHeight="20"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center"
                                    Text="{Binding TelescopeSnapPortStart}" />
                            </UniformGrid>
                            <UniformGrid
                                Margin="5,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    MinWidth="200"
                                    MinHeight="20"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblSnapPortStop}">
                                    <TextBlock.ToolTip>
                                        <TextBlock Text="" />
                                    </TextBlock.ToolTip>
                                </TextBlock>
                                <TextBox
                                    MinWidth="75"
                                    MinHeight="20"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center"
                                    Text="{Binding TelescopeSnapPortStop}" />
                            </UniformGrid>
                        </UniformGrid>
                    </StackPanel>
                </GroupBox>
                <GroupBox
                    Grid.RowSpan="2"
                    Grid.Column="1"
                    Header="{ns:Loc LblFilterWheel}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition Height="50" />
                        </Grid.RowDefinitions>
                        <DataGrid
                            AutoGenerateColumns="False"
                            CanUserAddRows="False"
                            HorizontalScrollBarVisibility="Disabled"
                            ItemsSource="{Binding FilterWheelFilters}"
                            SelectedItem="{Binding SelectedFilter}"
                            VerticalScrollBarVisibility="Auto">
                            <DataGrid.Columns>
                                <DataGridTemplateColumn
                                    Width="*"
                                    CanUserSort="False"
                                    Header="{ns:Loc LblPosition}">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                                Margin="5,0,5,0"
                                                VerticalAlignment="Center"
                                                Text="{Binding Position}"
                                                TextAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn
                                    Width="*"
                                    CanUserSort="False"
                                    Header="{ns:Loc LblName}">
                                    <DataGridTemplateColumn.CellEditingTemplate>
                                        <DataTemplate>
                                            <TextBox
                                                Margin="5,0,5,0"
                                                VerticalAlignment="Center"
                                                Text="{Binding Name}"
                                                TextAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellEditingTemplate>
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                                Margin="5,0,5,0"
                                                VerticalAlignment="Center"
                                                Text="{Binding Name}"
                                                TextAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn
                                    Width="*"
                                    CanUserSort="False"
                                    Header="{ns:Loc LblFocusOffset}">
                                    <DataGridTemplateColumn.CellEditingTemplate>
                                        <DataTemplate>
                                            <TextBox
                                                Margin="5,0,5,0"
                                                VerticalAlignment="Center"
                                                Text="{Binding FocusOffset}"
                                                TextAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellEditingTemplate>
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                                Margin="5,0,5,0"
                                                VerticalAlignment="Center"
                                                Text="{Binding FocusOffset}"
                                                TextAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn
                                    Width="*"
                                    CanUserSort="False"
                                    Header="{ns:Loc LblAutoFocusExposureTime}">
                                    <DataGridTemplateColumn.CellEditingTemplate>
                                        <DataTemplate>
                                            <TextBox
                                                Margin="5,0,5,0"
                                                VerticalAlignment="Center"
                                                Text="{Binding AutoFocusExposureTime}"
                                                TextAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellEditingTemplate>
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                                Margin="5,0,5,0"
                                                VerticalAlignment="Center"
                                                Text="{Binding AutoFocusExposureTime}"
                                                TextAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <StackPanel Orientation="Horizontal">
                                <Button
                                    Width="40"
                                    Margin="0,5,0,5"
                                    Command="{Binding AddFilterCommand}">
                                    <Path
                                        Margin="5"
                                        Data="{StaticResource AddSVG}"
                                        Fill="{StaticResource ButtonForegroundBrush}"
                                        Stretch="Uniform" />
                                </Button>
                                <Button
                                    Grid.Column="1"
                                    Width="40"
                                    Margin="0,5,0,5"
                                    Command="{Binding RemoveFilterCommand}">
                                    <Path
                                        Margin="5"
                                        Data="{StaticResource SubstractSVG}"
                                        Fill="{StaticResource ButtonForegroundBrush}"
                                        Stretch="Uniform" />
                                </Button>
                            </StackPanel>
                            <Button
                                Grid.Column="1"
                                Width="300"
                                Margin="5"
                                Command="{Binding ImportFiltersCommand}">
                                <Button.Content>
                                    <TextBlock Foreground="{StaticResource ButtonForegroundBrush}" Text="{ns:Loc LblImportFromFilterWheel}" />
                                </Button.Content>
                            </Button>
                        </Grid>
                    </Grid>
                </GroupBox>
                <GroupBox Grid.Row="1" Header="{ns:Loc LblTelescope}">
                    <StackPanel Orientation="Vertical">
                        <UniformGrid Columns="2">
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    Width="130"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblFocalLength}" />
                                <TextBox
                                    MinWidth="80"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center">
                                    <TextBox.Text>
                                        <Binding Path="TelescopeFocalLength" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <rules:GreaterZeroRule />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox.Text>
                                </TextBox>
                            </UniformGrid>
                        </UniformGrid>
                        <UniformGrid Columns="2">
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    Width="130"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblSettleTimeAfterSlew}" />
                                <TextBox
                                    MinWidth="80"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center">
                                    <TextBox.Text>
                                        <Binding Path="TelescopeSettleTime" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <rules:GreaterZeroRule />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox.Text>
                                </TextBox>
                            </UniformGrid>
                        </UniformGrid>
                    </StackPanel>
                </GroupBox>
                <GroupBox Grid.Row="2" Header="{ns:Loc LblFocuser}">
                    <StackPanel Orientation="Vertical">
                        <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                            <TextBlock
                                MinWidth="200"
                                MinHeight="20"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblFocuserUseFilterWheelOffsets}">
                                <TextBlock.ToolTip>
                                    <TextBlock Text="{ns:Loc LblFocuserUseFilterWheelOffsetsTooltip}" />
                                </TextBlock.ToolTip>
                            </TextBlock>
                            <CheckBox
                                Width="75"
                                Height="25"
                                HorizontalAlignment="Left"
                                IsChecked="{Binding FocuserUseFilterWheelOffsets}" />
                        </StackPanel>

                        <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                            <TextBlock
                                MinWidth="200"
                                MinHeight="20"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblFocuserAutoFocusStepSize}">
                                <TextBlock.ToolTip>
                                    <TextBlock Text="{ns:Loc LblFocuserAutoFocusStepSizeTooltip}" />
                                </TextBlock.ToolTip>
                            </TextBlock>
                            <TextBox
                                Width="75"
                                Height="25"
                                HorizontalAlignment="Left"
                                Text="{Binding FocuserAutoFocusStepSize}" />
                        </StackPanel>

                        <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                            <TextBlock
                                MinWidth="200"
                                MinHeight="20"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblFocuserAutoFocusInitialOffsetSteps}">
                                <TextBlock.ToolTip>
                                    <TextBlock Text="{ns:Loc LblFocuserAutoFocusInitialOffsetStepsTooltip}" />
                                </TextBlock.ToolTip>
                            </TextBlock>
                            <TextBox
                                Width="75"
                                Height="25"
                                HorizontalAlignment="Left"
                                Text="{Binding FocuserAutoFocusInitialOffsetSteps}" />
                        </StackPanel>
                        <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                            <TextBlock
                                MinWidth="200"
                                MinHeight="20"
                                VerticalAlignment="Center"
                                Text="{ns:Loc LblDefaultAutoFocusExposureTime}">
                                <TextBlock.ToolTip>
                                    <TextBlock Text="{ns:Loc LblAutoFocusExposureTimeTooltip}" />
                                </TextBlock.ToolTip>
                            </TextBlock>
                            <TextBox
                                Width="75"
                                Height="25"
                                HorizontalAlignment="Left">
                                <TextBox.Text>
                                    <Binding Path="FocuserAutoFocusExposureTime" UpdateSourceTrigger="LostFocus">
                                        <Binding.ValidationRules>
                                            <rules:GreaterZeroRule />
                                        </Binding.ValidationRules>
                                    </Binding>
                                </TextBox.Text>
                            </TextBox>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
                <GroupBox
                    Grid.Row="2"
                    Grid.Column="1"
                    Header="{ns:Loc LblPHD2Settings}">
                    <StackPanel Orientation="Vertical">
                        <UniformGrid Columns="2">
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    MinWidth="200"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblPHD2ServerUrl}" />
                                <TextBox
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center"
                                    Text="{Binding PHD2ServerUrl}" />
                            </UniformGrid>
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    MinWidth="200"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblPHD2ServerPort}" />
                                <TextBox
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center"
                                    Text="{Binding PHD2ServerPort}" />
                            </UniformGrid>
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    MinWidth="200"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblDitherPixels}" />
                                <TextBox HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                    <TextBox.Text>
                                        <Binding Path="DitherPixels" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <rules:GreaterZeroRule />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox.Text>
                                </TextBox>
                            </UniformGrid>
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    MinWidth="200"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblDitherRAOnly}" />
                                <CheckBox
                                    Width="75"
                                    Height="25"
                                    HorizontalAlignment="Left"
                                    IsChecked="{Binding DitherRAOnly}" />
                            </UniformGrid>
                            <UniformGrid
                                Margin="0,6,0,6"
                                VerticalAlignment="Center"
                                Columns="2">
                                <TextBlock
                                    MinWidth="200"
                                    VerticalAlignment="Center"
                                    Text="{ns:Loc LblResumeSettleTime}" />
                                <TextBox HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                    <TextBox.Text>
                                        <Binding Path="GuiderSettleTime" UpdateSourceTrigger="LostFocus">
                                            <Binding.ValidationRules>
                                                <rules:GreaterZeroRule />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </TextBox.Text>
                                </TextBox>
                            </UniformGrid>
                        </UniformGrid>
                    </StackPanel>
                </GroupBox>
            </Grid>
        </TabItem>
        <TabItem>
            <TabItem.Header>
                <TextBlock Style="{StaticResource TabItemTextBox}" Text="{ns:Loc LblImaging}" />
            </TabItem.Header>
            <local:OptionsImagingView />
        </TabItem>
        <TabItem>
            <TabItem.Header>
                <TextBlock Style="{StaticResource TabItemTextBox}" Text="{ns:Loc LblPlateSolving}" />
            </TabItem.Header>
            <local:OptionsPlateSolverView />
        </TabItem>
    </TabControl>
</UserControl>